#forsøk på å lage kodeliste for intro-status fra SSBs statistikkbank
#henter metadata fra http://data.ssb.no/api/v0/no/console/meta/table/10824/

library("jsonlite")
metadata = '{
        "title": "Tidligere deltakere i introduksjonsprogrammet for innvandrere, etter region, kjønn, avsluttet eller avbrutt introduksjonsprogram, arbeidsmarkedsstatus, statistikkvariabel og år",
"variables": [{
"code": "Region",
"text": "region",
"values": [
"0",
"01",
"0101",
"0104",
"0105",
"0106",
"0111",
"0118",
"0119",
"0121",
"0122",
"0123",
"0124",
"0125",
"0127",
"0128",
"0135",
"0136",
"0137",
"0138",
"02",
"0211",
"0213",
"0214",
"0215",
"0216",
"0217",
"0219",
"0220",
"0221",
"0226",
"0227",
"0228",
"0229",
"0230",
"0231",
"0233",
"0234",
"0235",
"0236",
"0237",
"0238",
"0239",
"03",
"0301",
"030100aa",
"030101a",
"030102a",
"030103a",
"030104a",
"030105a",
"030106a",
"030107a",
"030108a",
"030109a",
"030110a",
"030111a",
"030112a",
"030113a",
"030114a",
"030115a",
"030116a",
"030117a",
"030199a",
"04",
"0402",
"0403",
"0412",
"0415",
"0417",
"0418",
"0419",
"0420",
"0423",
"0425",
"0426",
"0427",
"0428",
"0429",
"0430",
"0432",
"0434",
"0436",
"0437",
"0438",
"0439",
"0441",
"05",
"0501",
"0502",
"0511",
"0512",
"0513",
"0514",
"0515",
"0516",
"0517",
"0519",
"0520",
"0521",
"0522",
"0528",
"0529",
"0532",
"0533",
"0534",
"0536",
"0538",
"0540",
"0541",
"0542",
"0543",
"0544",
"0545",
"06",
"0602",
"0604",
"0605",
"0612",
"0615",
"0616",
"0617",
"0618",
"0619",
"0620",
"0621",
"0622",
"0623",
"0624",
"0625",
"0626",
"0627",
"0628",
"0631",
"0632",
"0633",
"07",
"0701",
"0702",
"0704",
"0706",
"0709",
"0711",
"0713",
"0714",
"0716",
"0718",
"0719",
"0720",
"0722",
"0723",
"0728",
"08",
"0805",
"0806",
"0807",
"0811",
"0814",
"0815",
"0817",
"0819",
"0821",
"0822",
"0826",
"0827",
"0828",
"0829",
"0830",
"0831",
"0833",
"0834",
"09",
"0901",
"0904",
"0906",
"0911",
"0912",
"0914",
"0919",
"0926",
"0928",
"0929",
"0935",
"0937",
"0938",
"0940",
"0941",
"10",
"1001",
"1002",
"1003",
"1004",
"1014",
"1017",
"1018",
"1021",
"1026",
"1027",
"1029",
"1032",
"1034",
"1037",
"1046",
"11",
"1101",
"1102",
"1103",
"1106",
"1111",
"1112",
"1114",
"1119",
"1120",
"1121",
"1122",
"1124",
"1127",
"1129",
"1130",
"1133",
"1134",
"1135",
"1141",
"1142",
"1144",
"1145",
"1146",
"1149",
"1151",
"1154",
"1159",
"1160",
"12",
"1201",
"1211",
"1214",
"1216",
"1219",
"1221",
"1222",
"1223",
"1224",
"1227",
"1228",
"1231",
"1232",
"1233",
"1234",
"1235",
"1238",
"1241",
"1242",
"1243",
"1244",
"1245",
"1246",
"1247",
"1251",
"1252",
"1253",
"1256",
"1259",
"1260",
"1263",
"1264",
"1265",
"1266",
"14",
"1401",
"1411",
"1412",
"1413",
"1416",
"1417",
"1418",
"1419",
"1420",
"1421",
"1422",
"1424",
"1426",
"1428",
"1429",
"1430",
"1431",
"1432",
"1433",
"1438",
"1439",
"1441",
"1443",
"1444",
"1445",
"1449",
"15",
"1502",
"1503",
"1504",
"1505",
"1511",
"1514",
"1515",
"1516",
"1517",
"1519",
"1520",
"1523",
"1524",
"1525",
"1526",
"1528",
"1529",
"1531",
"1532",
"1534",
"1535",
"1539",
"1543",
"1545",
"1546",
"1547",
"1548",
"1551",
"1554",
"1556",
"1557",
"1560",
"1563",
"1566",
"1567",
"1569",
"1571",
"1572",
"1573",
"1576",
"16",
"1601",
"1612",
"1613",
"1617",
"1620",
"1621",
"1622",
"1624",
"1627",
"1630",
"1632",
"1633",
"1634",
"1635",
"1636",
"1638",
"1640",
"1644",
"1648",
"1653",
"1657",
"1662",
"1663",
"1664",
"1665",
"17",
"1702",
"1703",
"1711",
"1714",
"1717",
"1718",
"1719",
"1721",
"1723",
"1724",
"1725",
"1729",
"1736",
"1738",
"1739",
"1740",
"1742",
"1743",
"1744",
"1748",
"1749",
"1750",
"1751",
"1755",
"1756",
"18",
"1804",
"1805",
"1811",
"1812",
"1813",
"1815",
"1816",
"1818",
"1820",
"1822",
"1824",
"1825",
"1826",
"1827",
"1828",
"1832",
"1833",
"1834",
"1835",
"1836",
"1837",
"1838",
"1839",
"1840",
"1841",
"1842",
"1845",
"1848",
"1849",
"1850",
"1851",
"1852",
"1853",
"1854",
"1856",
"1857",
"1859",
"1860",
"1865",
"1866",
"1867",
"1868",
"1870",
"1871",
"1874",
"19",
"1901",
"1902",
"1903",
"1911",
"1913",
"1915",
"1917",
"1919",
"1920",
"1922",
"1923",
"1924",
"1925",
"1926",
"1927",
"1928",
"1929",
"1931",
"1933",
"1936",
"1938",
"1939",
"1940",
"1941",
"1942",
"1943",
"20",
"2002",
"2003",
"2004",
"2011",
"2012",
"2014",
"2015",
"2017",
"2018",
"2019",
"2020",
"2021",
"2022",
"2023",
"2024",
"2025",
"2027",
"2028",
"2030",
"2111",
"2121",
"2131",
"2211",
"2311",
"2321",
"N01",
"N02",
"N03",
"N04",
"N05",
"N06",
"N07",
"N08",
"N09",
"N10",
"N11",
"N12",
"N13",
"N14",
"N15",
"N16",
"N17",
"N18",
"N19",
"N20",
"N21",
"N22",
"N23",
"N24",
"N25",
"N26",
"N27",
"N28",
"N29",
"N30",
"N31",
"N32",
"N33",
"N34",
"N35",
"N36",
"N37",
"N38",
"N39",
"N40",
"N41",
"N42",
"N43",
"N44",
"N45",
"N46",
"N47",
"N48",
"N49",
"N50",
"N51",
"N52",
"N53",
"N54",
"N55",
"N56",
"N57",
"N58",
"N59",
"N60",
"N61",
"N62",
"N63",
"N64",
"N65",
"N66",
"N67",
"N68",
"N69",
"N70",
"N71",
"N72",
"N73",
"N74",
"N75",
"N76",
"N77",
"N78",
"N79",
"N80",
"N81",
"N82",
"N83",
"N99"
],
"valueTexts": [
"Hele landet",
"Østfold",
"Halden",
"Moss",
"Sarpsborg",
"Fredrikstad",
"Hvaler",
"Aremark",
"Marker",
"Rømskog",
"Trøgstad",
"Spydeberg",
"Askim",
"Eidsberg",
"Skiptvet",
"Rakkestad",
"Råde",
"Rygge",
"Våler (Østf.)",
"Hobøl",
"Akershus",
"Vestby",
"Ski",
"Ås",
"Frogn",
"Nesodden",
"Oppegård",
"Bærum",
"Asker",
"Aurskog-Høland",
"Sørum",
"Fet",
"Rælingen",
"Enebakk",
"Lørenskog",
"Skedsmo",
"Nittedal",
"Gjerdrum",
"Ullensaker",
"Nes (Ak.)",
"Eidsvoll",
"Nannestad",
"Hurdal",
"Oslo",
"Oslo kommune",
"Oslo i alt",
"Gamle Oslo",
"Grünerløkka",
"Sagene",
"St. Hanshaugen",
"Frogner",
"Ullern",
"Vestre Aker",
"Nordre Aker",
"Bjerke",
"Grorud",
"Stovner",
"Alna",
"Østensjø",
"Nordstrand",
"Søndre Nordstrand",
"Sentrum",
"Marka",
"Uoppgitt bydel Oslo",
"Hedmark",
"Kongsvinger",
"Hamar",
"Ringsaker",
"Løten",
"Stange",
"Nord-Odal",
"Sør-Odal",
"Eidskog",
"Grue",
"Åsnes",
"Våler (Hedm.)",
"Elverum",
"Trysil",
"Åmot",
"Stor-Elvdal",
"Rendalen",
"Engerdal",
"Tolga",
"Tynset",
"Alvdal",
"Folldal",
"Os (Hedm.)",
"Oppland",
"Lillehammer",
"Gjøvik",
"Dovre",
"Lesja",
"Skjåk",
"Lom",
"Vågå",
"Nord-Fron",
"Sel",
"Sør-Fron",
"Ringebu",
"Øyer",
"Gausdal",
"Østre Toten",
"Vestre Toten",
"Jevnaker",
"Lunner",
"Gran",
"Søndre Land",
"Nordre Land",
"Sør-Aurdal",
"Etnedal",
"Nord-Aurdal",
"Vestre Slidre",
"Øystre Slidre",
"Vang",
"Buskerud",
"Drammen",
"Kongsberg",
"Ringerike",
"Hole",
"Flå",
"Nes (Busk.)",
"Gol",
"Hemsedal",
"Ål",
"Hol",
"Sigdal",
"Krødsherad",
"Modum",
"Øvre Eiker",
"Nedre Eiker",
"Lier",
"Røyken",
"Hurum",
"Flesberg",
"Rollag",
"Nore og Uvdal",
"Vestfold",
"Horten",
"Holmestrand",
"Tønsberg",
"Sandefjord",
"Larvik",
"Svelvik",
"Sande (Vestf.)",
"Hof",
"Re",
"Ramnes (-2001)",
"Andebu",
"Stokke",
"Nøtterøy",
"Tjøme",
"Lardal",
"Telemark",
"Porsgrunn",
"Skien",
"Notodden",
"Siljan",
"Bamble",
"Kragerø",
"Drangedal",
"Nome",
"Bø (Telem.)",
"Sauherad",
"Tinn",
"Hjartdal",
"Seljord",
"Kviteseid",
"Nissedal",
"Fyresdal",
"Tokke",
"Vinje",
"Aust-Agder",
"Risør",
"Grimstad",
"Arendal",
"Gjerstad",
"Vegårshei",
"Tvedestrand",
"Froland",
"Lillesand",
"Birkenes",
"Åmli",
"Iveland",
"Evje og Hornnes",
"Bygland",
"Valle",
"Bykle",
"Vest-Agder",
"Kristiansand",
"Mandal",
"Farsund",
"Flekkefjord",
"Vennesla",
"Songdalen",
"Søgne",
"Marnardal",
"Åseral",
"Audnedal",
"Lindesnes",
"Lyngdal",
"Hægebostad",
"Kvinesdal",
"Sirdal",
"Rogaland",
"Eigersund",
"Sandnes",
"Stavanger",
"Haugesund",
"Sokndal",
"Lund",
"Bjerkreim",
"Hå",
"Klepp",
"Time",
"Gjesdal",
"Sola",
"Randaberg",
"Forsand",
"Strand",
"Hjelmeland",
"Suldal",
"Sauda",
"Finnøy",
"Rennesøy",
"Kvitsøy",
"Bokn",
"Tysvær",
"Karmøy",
"Utsira",
"Vindafjord (1965-2005)",
"Ølen (2002-2005)",
"Vindafjord",
"Hordaland",
"Bergen",
"Etne",
"Ølen (-2001)",
"Sveio",
"Bømlo",
"Stord",
"Fitjar",
"Tysnes",
"Kvinnherad",
"Jondal",
"Odda",
"Ullensvang",
"Eidfjord",
"Ulvik",
"Granvin",
"Voss",
"Kvam",
"Fusa",
"Samnanger",
"Os (Hord.)",
"Austevoll",
"Sund",
"Fjell",
"Askøy",
"Vaksdal",
"Modalen",
"Osterøy",
"Meland",
"Øygarden",
"Radøy",
"Lindås",
"Austrheim",
"Fedje",
"Masfjorden",
"Sogn og Fjordane",
"Flora",
"Gulen",
"Solund",
"Hyllestad",
"Høyanger",
"Vik",
"Balestrand",
"Leikanger",
"Sogndal",
"Aurland",
"Lærdal",
"Årdal",
"Luster",
"Askvoll",
"Fjaler",
"Gaular",
"Jølster",
"Førde",
"Naustdal",
"Bremanger",
"Vågsøy",
"Selje",
"Eid",
"Hornindal",
"Gloppen",
"Stryn",
"Møre og Romsdal",
"Molde",
"Kristiansund  (-2007)",
"Ålesund",
"Kristiansund",
"Vanylven",
"Sande (M. og R.)",
"Herøy (M. og R.)",
"Ulstein",
"Hareid",
"Volda",
"Ørsta",
"Ørskog",
"Norddal",
"Stranda",
"Stordal",
"Sykkylven",
"Skodje",
"Sula",
"Giske",
"Haram",
"Vestnes",
"Rauma",
"Nesset",
"Midsund",
"Sandøy",
"Aukra",
"Fræna",
"Eide",
"Averøy",
"Frei (-2007)",
"Gjemnes",
"Tingvoll",
"Sunndal",
"Surnadal",
"Rindal",
"Aure (-2005)",
"Halsa",
"Tustna (-2005)",
"Smøla",
"Aure",
"Sør-Trøndelag",
"Trondheim",
"Hemne",
"Snillfjord",
"Hitra",
"Frøya",
"Ørland",
"Agdenes",
"Rissa",
"Bjugn",
"Åfjord",
"Roan",
"Osen",
"Oppdal",
"Rennebu",
"Meldal",
"Orkdal",
"Røros",
"Holtålen",
"Midtre Gauldal",
"Melhus",
"Skaun",
"Klæbu",
"Malvik",
"Selbu",
"Tydal",
"Nord-Trøndelag",
"Steinkjer",
"Namsos",
"Meråker",
"Stjørdal",
"Frosta",
"Leksvik",
"Levanger",
"Verdal",
"Mosvik  (-2011)",
"Verran",
"Namdalseid",
"Inderøy (-2011)",
"Snåase - Snåsa",
"Lierne",
"Raarvihke - Røyrvik",
"Namsskogan",
"Grong",
"Høylandet",
"Overhalla",
"Fosnes",
"Flatanger",
"Vikna",
"Nærøy",
"Leka",
"Inderøy",
"Nordland",
"Bodø",
"Narvik",
"Bindal",
"Sømna",
"Brønnøy",
"Vega",
"Vevelstad",
"Herøy (Nordl.)",
"Alstahaug",
"Leirfjord",
"Vefsn",
"Grane",
"Hattfjelldal",
"Dønna",
"Nesna",
"Hemnes",
"Rana",
"Lurøy",
"Træna",
"Rødøy",
"Meløy",
"Gildeskål",
"Beiarn",
"Saltdal",
"Fauske",
"Skjerstad (-2004)",
"Sørfold",
"Steigen",
"Hamarøy - Hábmer",
"Divtasvuodna - Tysfjord",
"Lødingen",
"Tjeldsund",
"Evenes",
"Ballangen",
"Røst",
"Værøy",
"Flakstad",
"Vestvågøy",
"Vågan",
"Hadsel",
"Bø (Nordl.)",
"Øksnes",
"Sortland",
"Andøy",
"Moskenes",
"Troms - Romsa",
"Harstad (-2012)",
"Tromsø",
"Harstad",
"Kvæfjord",
"Skånland",
"Bjarkøy (-2012)",
"Ibestad",
"Gratangen",
"Loabák - Lavangen",
"Bardu",
"Salangen",
"Målselv",
"Sørreisa",
"Dyrøy",
"Tranøy",
"Torsken",
"Berg",
"Lenvik",
"Balsfjord",
"Karlsøy",
"Lyngen",
"Storfjord - Omasvuotna - Omasvuono",
"Gáivuotna - Kåfjord",
"Skjervøy",
"Nordreisa",
"Kvænangen",
"Finnmark - Finnmárku",
"Vardø",
"Vadsø",
"Hammerfest",
"Guovdageaidnu - Kautokeino",
"Alta",
"Loppa",
"Hasvik",
"Kvalsund",
"Måsøy",
"Nordkapp",
"Porsanger - Porsángu - Porsanki",
"Kárásjohka - Karasjok",
"Lebesby",
"Gamvik",
"Berlevåg",
"Deatnu - Tana",
"Unjárga - Nesseby",
"Båtsfjord",
"Sør-Varanger",
"Longyearbyen",
"Bjørnøya",
"Hopen",
"Jan Mayen",
"Sokkelen sør for 62° N",
"Sokkelen nord for 62° N",
"Halden",
"Indre Østfold",
"Mosseregionen",
"Nedre Glomma",
"Akershus Vest",
"Follo",
"Nedre Romerike",
"Øvre Romerike",
"Oslo",
"Fjellregionen",
"Glåmdal",
"Hamarregionen",
"Sør Østerdal",
"Gjøvikregionen",
"Hadeland",
"Lillehammerregionen",
"Midt-Gudbrandsdal",
"Nord-Gudbrandsdal",
"Valdres",
"Drammensregionen",
"Hallingdal",
"Kongsberg/Numedal",
"Midt-Buskerud",
"Ringerike/Hole",
"Tønsbergregionen",
"Sandefjord/Larvik",
"Grenland",
"Midt-Telemark",
"Øst-Telemark",
"Vest-Telemark",
"Setesdal",
"Arendalregionen",
"Lister",
"Mandalsregionen",
"Kristiansandregionen",
"Dalane",
"Haugesundregionen",
"Ryfylke",
"Stavangerregionen",
"Bergen",
"Bjørnefjorden",
"Hardanger",
"Voss",
"Nordhordland",
"Osterfjorden",
"Sunnhordland",
"Hordaland Vest",
"HAFS",
"Nordfjord",
"Sogn",
"Sunnfjord",
"Nordmøre",
"Romsdal",
"Storfjord",
"Søre Sunnmøre",
"Ålesundregionen",
"Fosen",
"Hitra/Frøya",
"Oppdal/Rennebu",
"Orkdalregionen",
"Trondheimsregionen",
"Rørosregionen",
"Stjørdalsregionen",
"Innherred",
"Indre Namdal",
"Kystgruppen",
"Midtre Namdal",
"Sør-Helgeland",
"HALD",
"Ytre Helgeland",
"Mosjøregionen",
"Ranaregionen",
"Salten",
"Ofoten",
"Lofoten",
"Vesterålen",
"Sør-Troms",
"Midt-Troms",
"Tromsøregionen",
"Nord-Troms",
"Vest-Finnmark",
"Midt-Finnmark",
"Øst-Finnmark",
"Uoppgitt"
],
"elimination": true
}, {
"code": "Kjonn",
"text": "kjønn",
"values": [
"0",
"1",
"2"
],
"valueTexts": [
"Begge kjønn",
"Menn",
"Kvinner"
],
"elimination": true
}, {
"code": "IntroAvbrudd",
"text": "avsluttet eller avbrutt introduksjonsprogram",
"values": [
"01",
"02",
"03",
"04",
"05"
],
"valueTexts": [
"Ett år tidligere",
"To år tidligere",
"Tre år tidligere",
"Fire år tidligere",
"Fem år tidligere"
]
}, {
"code": "Arbeidsmarkedsstatus",
"text": "arbeidsmarkedsstatus",
"values": [
"00",
"1",
"11",
"15",
"05",
"2",
"21",
"22",
"3",
"32",
"31",
"33",
"34",
"35",
"80",
"08"
],
"valueTexts": [
"Arbeidssituasjon i alt",
"Sysselsatt og / eller under utdanning, i alt",
"Sysselsatt",
"Sysselsatt og under utdanning",
"Under utdanning",
"Registrert arbeidsledig og/eller på tiltak, i alt",
"Registrert helt arbeidsledig",
"Andre arbeidssøkende, på tiltak",
"Annen eller ukjent status, i alt",
"Har nedsatt arbeidsevne, er på tiltak",
"Mottar arbeidsavklaringspenger",
"Mottar helserelaterte ytelser unntatt arbeidsavklaringspenger",
"Mottar kontantstøtte og/eller overgangsstønad",
"Mottar sosialhjelp",
"Andre grupper",
"Uoppgitt"
],
"elimination": true
}, {
"code": "ContentsCode",
"text": "statistikkvariabel",
"values": [
"Deltakere",
"Deltakere1",
"DeltakereProg",
"DeltakereProg1"
],
"valueTexts": [
"Personer, etter nåværende bosted",
"Personer, etter nåværende bosted (prosent)",
"Personer, etter bosted ved programdeltakelse",
"Personer, etter bosted ved programdeltakelse (prosent)"
]
}, {
"code": "Tid",
"text": "år",
"values": [
"2011",
"2012",
"2013",
"2014"
],
"valueTexts": [
"2011",
"2012",
"2013",
"2014"
],
"time": true
}]
}'


json_data <- fromJSON(metadata,flatten=F)
json_data$variables$code
koder_region = data.frame(json_data$variables$values[1],json_data$variables$valueText[1])
names(koder_region) = c("region_kode","region_tekst")
koder_kjonn = data.frame(json_data$variables$values[2], json_data$variables$valueText[2])
names(koder_kjonn) = c("kjonn_kode","kjonn_tekst")
koder_avsluttet = data.frame(json_data$variables$values[3], json_data$variables$valueText[3])
names(koder_avsluttet) = c("avsluttet_kode","avsluttet_tekst")
koder_avslstatus = data.frame(json_data$variables$values[4], json_data$variables$valueText[4])
names(koder_avslstatus) = c("avsltatus_kode","avslstatus_tekst")
koder_enhet = data.frame(json_data$variables$values[5], json_data$variables$valueText[5])
names(koder_enhet) = c("enhet_kode","enhet_tekst")
koder_aar = data.frame(json_data$variables$values[6], json_data$variables$valueText[6])
names(koder_aar) = c("aar_kode","aar_tekst")

