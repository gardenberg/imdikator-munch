library(jsonlite)
jsonData <- fromJSON("D:/R/imdikator/data/cardPages.json")
names(jsonData)
write.csv2(jsonData,"D:/R/cardPages.csv")
str(jsonData)
jsonData <- fromJSON("D:/R/imdikator/data/cardPages.json")
library(jsonlite)
jsonData <- fromJSON("D:/R/imdikator/data/cardPages.json")
names(jsonData)
str(jsonData)
write.csv2(jsonData,"D:/R/cardPages.csv")
names(jsonData$name)
str(jsonData$name)
str(jsonData$title)
str(jsonData$groupKind)
str(jsonData$cards)
str(jsonData$cards$name)
View(jsonData)
df = do.call(rbind.data.frame, jsonData)
(rbind.data.frame, jsonData)
do.call(rbind.data.frame, jsonData)
do.call(rbind.data.frame, jsonData$cards)
?unlist
unlist(jsonData$cards)
df= unlist(jsonData$cards)
library (plyr)
df <- ldply (jsonData, data.frame)
?ldply
data.frame(t(sapply(jsonData,c)))
df=data.frame(t(sapply(jsonData,c)))
View(df)
df=data.frame(sapply(jsonData,c))
View(df)
View(jsonData)
df <- ldply (jsonData$cards, data.frame)
df=data.frame(sapply(jsonData$cards,c))
str(jsonData$cards)
?str
str(jsonData$cards,max.level=1)
str(jsonData$cards,max.level=2)
jsonData$cards[1]
jsonData$cards[[1]]
df=jsonData$cards[[1]]
View(df)
do.call(cbind.data.frame, jsonData$cards)
lenght(jsonData$cards)
length(jsonData$cards)
df_utdanning=jsonData$cards[[2]]
View(df_utdanning)
jsonData$name
df_arbeid=jsonData$cards[[3]]
df_levekaar=jsonData$cards[[4]]
df_tilskudd=jsonData$cards[[5]]
View(df_tilskudd)
rm(df)
?merge
View(df_arbeid)
View(df_levekaar)
df_merge = merge(df_arbeid,df_levekaar)
write.csv2(jsonData$cards,"D:/R/cardPages.csv")
write.csv2(df_befolkning,"df_b.csv")
df_befolkning=jsonData$cards[[1]]
write.csv2(df_befolkning,"df_b.csv")
View(df_arbeid)
befolkning_hovedgruppe <- read.csv("D:/R/imdikator-munch/data/befolkning_hovedgruppe.csv", row.names=NULL, na.strings="NA,.,:", stringsAsFactors=FALSE)
View(befolkning_hovedgruppe)
befolkning_hovedgruppe <- read.csv("D:/R/imdikator-munch/data/befolkning_hovedgruppe.csv", row.names=NULL, na.strings=c("NA",".",":"), stringsAsFactors=FALSE)
View(befolkning_hovedgruppe)
?read.csv
options(scipen = 500)
befolkning_hovedgruppe <- read.csv("D:/R/imdikator-munch/data/befolkning_hovedgruppe.csv", row.names=NULL, na.strings=c("NA",".",":"), stringsAsFactors=FALSE)
View(befolkning_hovedgruppe)
befolkning_hovedgruppe$tabellvariabel==0
sum(befolkning_hovedgruppe$tabellvariabel==0)
sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)
sum((befolkning_hovedgruppe$tabellvariabel==0&befolkning_hovedgruppe$enhet==personer),na.rm=T)
sum((befolkning_hovedgruppe$tabellvariabel==0&befolkning_hovedgruppe$enhet=='personer'),na.rm=T)
?subset
df=subset(befolkning_hovedgruppe, befolkning_hovedgruppe$tabellvariabel==0&befolkning_hovedgruppe$enhet=='personer')
View(df)
df=subset(befolkning_hovedgruppe, befolkning_hovedgruppe$tabellvariabel==0&befolkning_hovedgruppe$enhet=='prosent')
View(df)
befolkning_hovedgruppe[befolkning_hovedgruppe$tabellvariabel==0&befolkning_hovedgruppe$enhet=='personer']
befolkning_hovedgruppe[befolkning_hovedgruppe$tabellvariabel==0]
df=befolkning_hovedgruppe[befolkning_hovedgruppe$tabellvariabel==0]
df=befolkning_hovedgruppe(befolkning_hovedgruppe$tabellvariabel==0)
df=befolkning_hovedgruppe[befolkning_hovedgruppe$tabellvariabel==0]
dfbefolkning_hovedgruppe$tabellvariabel[befolkning_hovedgruppe$tabellvariabel==0]
befolkning_hovedgruppe$tabellvariabel[befolkning_hovedgruppe$tabellvariabel==0]
befolkning_hovedgruppe <- read.csv("D:/R/imdikator-munch/data/befolkning_hovedgruppe.csv", row.names=NULL, na.strings="NA", stringsAsFactors=FALSE)
sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)
View(befolkning_hovedgruppe)
sum(is.na(befolkning_hovedgruppe))
befolkning_hovedgruppe$tabellvariabel[befolkning_hovedgruppe$tabellvariabel==0]
sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)
befolkning_hovedgruppe$tabellvariabel[befolkning_hovedgruppe$tabellvariabel==0]="."
View(befolkning_hovedgruppe)
sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)
sum(befolkning_hovedgruppe$tabellvariabel==".",na.rm=T)
sum(befolkning_hovedgruppe$tabellvariabel==//".",na.rm=T)
write.csv2(befolkning_hovedgruppe,"D:/R/imdikator-munch/output/befolkning_hovedgruppe.csv")
write.csv2(befolkning_hovedgruppe,"D:/R/imdikator-munch/output/befolkning_hovedgruppe.csv")
?write.csv2
write.csv2(befolkning_hovedgruppe,"D:/R/imdikator-munch/output/befolkning_hovedgruppe.csv",row.names=F)
befolkning_alder <- read.csv("D:/R/imdikator-munch/data/befolkning_alder.csv", row.names=NULL, na.strings="NA", stringsAsFactors=FALSE)
View(befolkning_alder)
library(tidyr)
?spread
df=spread(befolkning_alder,alder_grupper,tabellvariabel)
View(df)
df[,1]
df[,2]
df$alle=sum(df[,10:16])
?extract_numeric
df$alle=sum(extract_numeric(df[,10:16]))
View(df)
df$alle=sum(extract_numeric(df[,16]))
View(df)
df$alle=sum(extract_numeric(df$`0_5`))
View(df)
df$alle=extract_numeric(df$`0_5`)
View(df)
?sum
df$alle=extract_numeric(df[,10])
View(df)
df$alle=extract_numeric(df[,10:11])
df$alle=extract_numeric(df[,10])+extract_numeric(df[,11])
View(df)
df$alle=extract_numeric(df[,10])+extract_numeric(df[,11])+extract_numeric(df[,12])+extract_numeric(df[,13])+extract_numeric(df[,14])+extract_numeric(df[,15])+extract_numeric(df[,16])
View(df)
sum(is.na(df$alle))
sum(df[,10]=="."|df[,10]==":")
sum(df[,11]=="."|df[,11]==":")
sum(df[,12]=="."|df[,12]==":")
sum(df[,13]=="."|df[,13]==":")
sum(df[,14]=="."|df[,14]==":")
df[,14]=="."|df[,14]==":"
str(df[,14]=="."|df[,14]==":")
a=df[,14]=="."|df[,14]==":"
a=(df[,14]=="."|df[,14]==":")==T
sum((df[,10]=="."|df[,10]==":")&(df[,11]=="."|df[,11]==":")))
sum((df[,10]=="."|df[,10]==":")&(df[,11]=="."|df[,11]==":"))
sum((df[,10]=="."))
sum((df[,10]==":"))
sum((df[,11]=="."))
sum((df[,12]=="."))
sum((df[,13]=="."))
sum((df[,14]=="."))
sum((df[,15]=="."))
sum((df[,16]=="."))
df$alle[is.na(df$alle)]
df$alle[is.na(df$alle)]="."
sum(is.na(df$alle))
sum(df$alle="."))
sum(df$alle=="."))
sum(df$alle==".")
View(df)
?gather
df_2=gather(df,alder_grupper,tabellvariabel,'0_5':alle)
df_2=gather(df,alder_grupper,tabellvariabel,´0_5´:alle)
df_2=gather(df,alder_grupper,tabellvariabel,`0_5`:alle)
View(df_2)
levels(df_2$alder_grupper)
View(befolkning_alder)
View(df_2)
install.packages("compare")
library(compare)
comparison=compare(befolkning_alder,df_2)
??anti_join
library(dplyr)
comparison_2=anti_join(df_2,befolkning_alder)
View(comparison_2)
levels(comparison_2$alder_grupper)
str(comparison_2$alder_grupper)
comparison_2=anti_join(df,befolkning_alder)
comparison_2=anti_join(df,df_2)
View(df)
df_kontroll=gather(df,alder_grupper,tabellvariabel,alle)
library(tidyr)
df_kontroll=gather(df,alder_grupper,tabellvariabel,alle)
View(df_kontroll)
?subet
?subset
a=subset(df_kontroll,select=`0_5`:`67+`)
View(a)
a=subset(df_kontroll,select=-`0_5`:`67+`)
a=subset(df_kontroll,select=`-0_5`:`67+`)
a=subset(df_kontroll,select=c(`0_5`:`67+`))
a=subset(df_kontroll,select=c(-`0_5`:`67+`))
a=subset(df_kontroll,select=c(-`0_5`:`67+`))
a=subset(df,select=c(aar:kommune_nr,alle))
View(a)
df_konstroll=subset(df,select=c(aar:kommune_nr,alle))
df_kontroll=gather(df_kontroll,alder_grupper,tabellvariabel,alle)
View(df_konstroll)
df_kontroll=subset(df,select=c(aar:kommune_nr,alle))
df_kontroll=gather(df_kontroll,alder_grupper,tabellvariabel,alle)
View(df_konstroll)
rm(df_konstroll)
View(df_kontroll)
library(dplyr)
comparison_2=anti_join(df_2,befolkning_alder)
comparison_3=anti_joun(comparison_2,df_kontroll)
comparison_3=anti_join(comparison_2,df_kontroll)
nrow(comparison_3)
nrow(comparison_3)==0
write.csv2(befolkning_alder,"D:/R/imdikator-munch/output/befolkning_alder.csv",row.names=F)
write.csv2(df_2,"D:/R/imdikator-munch/output/befolkning_alder.csv",row.names=F)
?write.csv2
write.csv(df_2,"D:/R/imdikator-munch/output/befolkning_alder.csv",row.names=F)
#omkoding av 0 til missing "." i befolkning_hovedgruppe
options(scipen = 500)
befolkning_hovedgruppe <- read.csv("D:/R/imdikator-munch/data/befolkning_hovedgruppe.csv", row.names=NULL, na.strings="NA", stringsAsFactors=FALSE)
#antall tabellvariabler som er 0
sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)
temp=sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)
#antall med 0 som er personer
sum((befolkning_hovedgruppe$tabellvariabel==0&befolkning_hovedgruppe$enhet=='personer'),na.rm=T)
#antall med 0 som er prosenter
sum((befolkning_hovedgruppe$tabellvariabel==0&befolkning_hovedgruppe$enhet=='prosent'),na.rm=T)
#setter alle verdier som er 0 lik "." for manglende data
befolkning_hovedgruppe$tabellvariabel[befolkning_hovedgruppe$tabellvariabel==0]="."
#sjekk av at det ikke lenger finnes tabellvariabler som er 0
sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)
sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)==0
#sjekk av at antallet som før var 0 nå "."
sum(befolkning_hovedgruppe$tabellvariabel==".",na.rm=T)
temp==sum(befolkning_hovedgruppe$tabellvariabel==".",na.rm=T)
temp2=sum(befolkning_hovedgruppe$tabellvariabel==".",na.rm=T)
#omkoding av 0 til missing "." i befolkning_hovedgruppe
options(scipen = 500)
befolkning_hovedgruppe <- read.csv("D:/R/imdikator-munch/data/befolkning_hovedgruppe.csv", row.names=NULL, na.strings="NA", stringsAsFactors=FALSE)
#antall tabellvariabler som er 0
sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)
temp=sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)
temp2=sum(befolkning_hovedgruppe$tabellvariabel==".",na.rm=T)
#antall med 0 som er personer
sum((befolkning_hovedgruppe$tabellvariabel==0&befolkning_hovedgruppe$enhet=='personer'),na.rm=T)
#antall med 0 som er prosenter
sum((befolkning_hovedgruppe$tabellvariabel==0&befolkning_hovedgruppe$enhet=='prosent'),na.rm=T)
#setter alle verdier som er 0 lik "." for manglende data
befolkning_hovedgruppe$tabellvariabel[befolkning_hovedgruppe$tabellvariabel==0]="."
#sjekk av at det ikke lenger finnes tabellvariabler som er 0
sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)
sum(befolkning_hovedgruppe$tabellvariabel==0,na.rm=T)==0
#sjekk av at antallet som før var 0 nå "."
sum(befolkning_hovedgruppe$tabellvariabel==".",na.rm=T)
temp+temp2==sum(befolkning_hovedgruppe$tabellvariabel==".",na.rm=T)
write.csv(befolkning_hovedgruppe,"D:/R/imdikator-munch/output/befolkning_hovedgruppe.csv",row.names=F)
befolkning_verdensregion <- read.csv("D:/R/imdikator-munch/data/befolkning_verdensregion.csv", row.names=NULL, na.strings="NA", stringsAsFactors=FALSE)
library(tidyr)
library(dplyr)
befolkning_verdensregion <- read.csv("D:/R/imdikator-munch/data/befolkning_verdensregion.csv", row.names=NULL, na.strings="NA", stringsAsFactors=FALSE)
View(befolkning_verdensregion)
df=spread(befolkning_verdensregion,vreg_2,tabellvariabel)
View(df)
?spread
